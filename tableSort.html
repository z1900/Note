<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    <table border="1">
        <tr>
            <th>学号</th>
            <th>名字</th>
            <th id="date">日期</th>
        </tr>
        <tr>
            <td>1002</td>
            <td>小铭</td>
            <td>2017年12月20日</td>
        </tr>
        <tr>
            <td>1003</td>
            <td>小红</td>
            <td>2018年12月31日</td>
        </tr>
        <tr>
            <td>1004</td>
            <td>小黄</td>
            <td>2018年1月30日</td>
        </tr>
        <tr>
            <td>1005</td>
            <td>小米</td>
            <td>2018年11月20日</td>
        </tr>
        <tr>
            <td>1006</td>
            <td>小蒋</td>
            <td>2016年3月20日</td>
        </tr>
        <tr>
            <td>1007</td>
            <td>小捷</td>
            <td>2018年7月2日</td>
        </tr>
        <tr>
            <td>1004</td>
            <td>小邓</td>
            <td>2018年4月3日</td>
        </tr>
    </table>
<script>

var date = document.getElementById('date')
var up = true

date.onclick = function() {
    var table = document.getElementsByTagName('table')[0]
    var tr = table.getElementsByTagName('tr')
    var array = [].slice.call(tr, 1)

    if (up) {
        sort(array, up)
        up = false
    } else {
        sort(array, up)
        up = true
    }

    for (var i = 0, length = array.length; i < length; i++) {
        table.appendChild(array[i])
    }
}

function sort(array, up) {
    for (var i = 0, length = array.length; i < length; i++) {
        for (var j = i + 1; j < length; j++) {
            if (!array[j]) {
                continue
            }
            var prev = transDate(array[i].getElementsByTagName('td')[2].innerHTML)
            var next = transDate(array[j].getElementsByTagName('td')[2].innerHTML)

            if (up ? prev > next : prev < next) {
                var tmp = array[i]
                array[i] = array[j]
                array[j] = tmp
            }
        }
    }
}

function transDate(date) {
    return +new Date(date.replace(/年|月|日/g, '-').slice(0, date.length - 1))
}

</script>
</body>
</html>